{% load static %}
<div class="d-none d-md-block">
    <table class="table align-middle">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Team name</th>
                <th scope="col">Description</th>
                <th scope="col" class="fit">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for team in teams %}
                <tr style="height: 55px">
                    <th scope="row">{{ forloop.counter }}</th>
                    <td><b>{{ team.name }}</b></td>

                    {#    {% include "partials/audit_info.html" with obj=team %}#}

                    <td>
                        {% if team.is_primary %}
                            <span class="badge bg-dark">Primary</span>
                        {% else %}
                            {{ team.description }}
                        {% endif %}
                    </td>
                    <td class="fit">
                        {% if not team.is_primary %}
                            <div>
                                <button
                                    class="btn btn-primary"
                                    hx-get="{% url 'clubs:edit_team' team.id %}"
                                    hx-target="#dialog"
                                >
                                    Edit
                                </button>

                                <button
                                    class="btn btn-danger"
                                    hx-post="{% url 'clubs:remove_team' team.id %}"
                                    hx-trigger="click"
                                    hx-confirm="Do you really want to remove this team?"
                                    hx-swap="none"
                                >
                                    Remove
                                </button>
                            </div>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="d-block d-md-none">
    <div class="list-group">
        {% for team in teams %}
            <div class="list-group-item">
                <div>
                    <h5>{{ team.name }}</h5>
                    <p class="mb-1">{{ team.description }}</p>
                    {% include "partials/audit_info.html" with obj=team %}
                </div>
                {% if not team.is_primary %}
                    <button class="btn btn-primary" hx-get="{% url 'clubs:edit_team' team.id %}" hx-target="#dialog">
                        Edit
                    </button>
                    <button
                        class="btn btn-danger my-2"
                        hx-post="{% url 'clubs:remove_team' team.id %}"
                        hx-trigger="click"
                        hx-confirm="Do you really want to remove this team?"
                        hx-vals='{"team_id": "{{ team.id }}"}'
                        hx-swap="none"
                    >
                        Remove
                    </button>
                {% endif %}
            </div>
        {% endfor %}
    </div>
</div>

<script>
    initializeTooltips();
</script>
